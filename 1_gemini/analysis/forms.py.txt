from flask_wtf import FlaskForm
from wtforms.validators import DataRequired, Email, Optional, NumberRange
from wtforms import StringField, BooleanField, SubmitField, FloatField, SelectField

class MaterialForm(FlaskForm):
    sku = StringField('SKU')
    nombre = StringField('Nombre', validators=[DataRequired()])
    categoria = StringField('Categoría')
    unidad = StringField('Unidad')
    stock = FloatField('Stock', default=0, validators=[NumberRange(min=0)])
    stock_min = FloatField('Stock Mínimo', default=0, validators=[NumberRange(min=0)])
    ubicacion = StringField('Ubicación')
    costo_unitario = FloatField('Costo Unitario', default=0.0, validators=[NumberRange(min=0)])
    proveedor_principal_id = SelectField('Proveedor Principal', coerce=int, validators=[Optional()])
    comision_empresa = FloatField('Comisión de Empresa (%)', default=0.0, validators=[NumberRange(min=0, max=100)])
    submit = SubmitField('Guardar Material')

class ClientForm(FlaskForm):
    nombre = StringField('Nombre', validators=[DataRequired()])
    telefono = StringField('Teléfono')
    email = StringField('Email', validators=[Optional(), Email()])
    nif = StringField('NIF')
    is_ngo = BooleanField('Es ONG')
    submit = SubmitField('Guardar Cliente')

class ProviderForm(FlaskForm):
    nombre = StringField('Nombre', validators=[DataRequired()])
    telefono = StringField('Teléfono')
    email = StringField('Email', validators=[Optional(), Email()])
    tipo_proveedor = StringField('Tipo de Proveedor')
    submit = SubmitField('Guardar Proveedor')