{% extends "base.html" %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
    <h1>{{ title }}</h1>
    <div class="formulario">
        <form method="post">
            <label for="name">Nombre del Material</label>
            <input type="text" id="name" name="name" value="{{ material.name or '' }}" required>

            <label for="description">Descripción</label>
            <textarea id="description" name="description">{{ material.description or '' }}</textarea>

            <label for="unit_price">Precio Unitario (€)</label>
            <input type="number" step="0.01" id="unit_price" name="unit_price" value="{{ material.unit_price or '' }}">

            <label for="min_stock_level">Nivel Mínimo de Stock</label>
            <input type="number" step="1" id="min_stock_level" name="min_stock_level" value="{{ material.min_stock_level or '' }}">

            <label for="unit_of_measure">Unidad de Medida</label>
            <input type="text" id="unit_of_measure" name="unit_of_measure" value="{{ material.unit_of_measure or '' }}">

            {# New price fields #}
            <label for="recommended_price">Precio Recomendado (€)</label>
            <input type="number" step="0.01" id="recommended_price" name="recommended_price" value="{{ material.recommended_price or '0.00' }}">

            <label for="last_sold_price">Último Precio Vendido (€)</label>
            <input type="number" step="0.01" id="last_sold_price" name="last_sold_price" value="{{ material.last_sold_price or '0.00' }}">

            <button type="submit">Guardar</button>
            <button type="button" id="fill-example-btn">Rellenar Ejemplo</button>
        </form>
    </div>
{% endblock %}

{% block scripts %}
<script>
    document.getElementById('fill-example-btn').addEventListener('click', function() {
        document.getElementById('name').value = 'ejem. Martillo (Hammer)';
        document.getElementById('description').value = 'Martillo de carpintero (Carpenter\'s hammer)';
        document.getElementById('unit_price').value = 15.00;
        document.getElementById('recommended_price').value = 18.00;
        document.getElementById('last_sold_price').value = 14.00;
        document.getElementById('min_stock_level').value = 5;
        document.getElementById('unit_of_measure').value = 'ud';
    });
</script>
{% endblock %}