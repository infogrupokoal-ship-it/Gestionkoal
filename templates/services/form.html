{% extends "base.html" %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
    <h1>{{ title }}</h1>
    <div class="formulario">
        <form method="post">
            <label for="name">Nombre del Servicio</label>
            <input type="text" id="name" name="name" value="{{ service['name'] if service else '' }}" required>

            <label for="description">Descripción</label>
            <textarea id="description" name="description">{{ service['description'] if service else '' }}</textarea>

            <label for="price">Precio (€)</label>
            <input type="number" step="0.01" id="price" name="price" value="{{ service['price'] if service else '' }}">

            {# New price fields #}
            <label for="recommended_price">Precio Recomendado (€)</label>
            <input type="number" step="0.01" id="recommended_price" name="recommended_price" value="{{ service['recommended_price'] if service else '0.00' }}">

            <label for="last_sold_price">Último Precio Vendido (€)</label>
            <input type="number" step="0.01" id="last_sold_price" name="last_sold_price" value="{{ service['last_sold_price'] if service else '0.00' }}">

            <label for="category">Categoría</label>
            <input type="text" id="category" name="category" list="service-categories" value="{{ service['category'] if service else '' }}">
            <datalist id="service-categories">
                <option value="Electricidad">
                <option value="Fontanería">
                <option value="Albañilería">
                <option value="Climatización">
                <option value="Carpintería">
                <option value="Pintura">
                <option value="Reformas">
                <option value="Limpieza">
                <option value="Jardinería">
                <option value="Otros">
            </datalist>

            <button type="submit">Guardar</button>
            <button type="button" id="fill-example-btn">Rellenar Ejemplo</button>
        </form>
    </div>
{% endblock %}

{% block scripts %}
<script>
    document.getElementById('fill-example-btn').addEventListener('click', function() {
        document.getElementById('name').value = 'ejem. Fontaneria (Plumbing)';
        document.getElementById('description').value = 'ejem. Instalacion de grifo (Faucet installation)';
        document.getElementById('price').value = 50.00;
        document.getElementById('recommended_price').value = 55.00;
        document.getElementById('last_sold_price').value = 48.00;
        document.getElementById('category').value = 'Fontanería';
    });
</script>
{% endblock %}